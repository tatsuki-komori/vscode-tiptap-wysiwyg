{"version":3,"file":"extension.js","mappings":"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","sources":[".././src/TiptapEditorProvider.ts","../external commonjs \"vscode\"","../webpack/bootstrap",".././src/extension.ts"],"sourcesContent":["import * as vscode from 'vscode';\n\nexport class TiptapEditorProvider implements vscode.CustomTextEditorProvider {\n\n\tpublic static register(context: vscode.ExtensionContext): vscode.Disposable {\n\t\tconst provider = new TiptapEditorProvider(context);\n\t\tconst providerRegistration = vscode.window.registerCustomEditorProvider(TiptapEditorProvider.viewType, provider);\n\t\treturn providerRegistration;\n\t}\n\n\tprivate static readonly viewType = 'tiptap-wysiwyg.markdownEditor';\n\n\tconstructor(\n\t\tprivate readonly context: vscode.ExtensionContext\n\t) { }\n\n\tpublic async resolveCustomTextEditor(\n\t\tdocument: vscode.TextDocument,\n\t\twebviewPanel: vscode.WebviewPanel,\n\t\t_token: vscode.CancellationToken\n\t): Promise<void> {\n\t\twebviewPanel.webview.options = {\n\t\t\tenableScripts: true,\n\t\t\tlocalResourceRoots: [\n\t\t\t\tvscode.Uri.joinPath(this.context.extensionUri, 'dist')\n\t\t\t]\n\t\t};\n\n\t\twebviewPanel.webview.html = this.getHtmlForWebview(webviewPanel.webview);\n\n\t\t// Update webview when the document changes\n\t\tconst changeDocumentSubscription = vscode.workspace.onDidChangeTextDocument((e: vscode.TextDocumentChangeEvent) => {\n\t\t\tif (e.document.uri.toString() === document.uri.toString()) {\n\t\t\t\twebviewPanel.webview.postMessage({\n\t\t\t\t\ttype: 'update',\n\t\t\t\t\ttext: document.getText(),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Receive message from the webview.\n\t\twebviewPanel.webview.onDidReceiveMessage((e: any) => {\n\t\t\tswitch (e.type) {\n\t\t\t\tcase 'ready':\n\t\t\t\t\twebviewPanel.webview.postMessage({\n\t\t\t\t\t\ttype: 'update',\n\t\t\t\t\t\ttext: document.getText(),\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\tcase 'update':\n\t\t\t\t\tthis.updateTextDocument(document, e.text);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\t// Initial update is handled by the 'ready' message from the webview\n\t\t// webviewPanel.webview.postMessage({\n\t\t// \ttype: 'update',\n\t\t// \ttext: document.getText(),\n\t\t// });\n\n\t\twebviewPanel.onDidDispose(() => {\n\t\t\tchangeDocumentSubscription.dispose();\n\t\t});\n\t}\n\n\tprivate getHtmlForWebview(webview: vscode.Webview): string {\n\t\tconst scriptUri = webview.asWebviewUri(vscode.Uri.joinPath(this.context.extensionUri, 'dist', 'webview.js'));\n\n\t\treturn `\n\t\t\t<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src ${webview.cspSource} 'unsafe-inline'; script-src ${webview.cspSource} 'unsafe-inline';\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t\t\t\t<title>Tiptap Editor</title>\n\t\t\t\t<style>\n\t\t\t\t\tbody {\n\t\t\t\t\t\tbackground-color: var(--vscode-editor-background);\n\t\t\t\t\t\tcolor: var(--vscode-editor-foreground);\n\t\t\t\t\t\tfont-family: var(--vscode-font-family);\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t}\n\t\t\t\t\t#root {\n\t\t\t\t\t\theight: 100vh;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<div id=\"root\">Loading Tiptap Editor...</div>\n\t\t\t\t<script>\n\t\t\t\t\twindow.addEventListener('error', function (e) {\n\t\t\t\t\t\tconst root = document.getElementById('root');\n\t\t\t\t\t\tif (root) {\n\t\t\t\t\t\t\troot.innerHTML = '<div style=\"color: red; padding: 20px;\">' + \n\t\t\t\t\t\t\t\t'<h3>Runtime Error</h3>' +\n\t\t\t\t\t\t\t\t'<pre>' + e.message + '\\\\n' + e.filename + ':' + e.lineno + '</pre>' +\n\t\t\t\t\t\t\t\t'</div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t</script>\n\t\t\t\t<script src=\"${scriptUri}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n\t}\n\n\tprivate updateTextDocument(document: vscode.TextDocument, text: string) {\n\t\tconst edit = new vscode.WorkspaceEdit();\n\n\t\t// Just replace the entire document. \n\t\t// In a real implementation, we would compute a diff to be more efficient and preserve cursor position if possible.\n\t\tedit.replace(\n\t\t\tdocument.uri,\n\t\t\tnew vscode.Range(0, 0, document.lineCount, 0),\n\t\t\ttext\n\t\t);\n\n\t\treturn vscode.workspace.applyEdit(edit);\n\t}\n}\n","module.exports = require(\"vscode\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from 'vscode';\nimport { TiptapEditorProvider } from './TiptapEditorProvider';\n\nexport function activate(context: vscode.ExtensionContext) {\n\tcontext.subscriptions.push(TiptapEditorProvider.register(context));\n}\n"],"names":[],"ignoreList":[],"sourceRoot":""}